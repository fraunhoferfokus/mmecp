package de.fhg.fokus.streetlife.mmecp.containers.crowd;

import de.fhg.fokus.streetlife.mmecp.containers.coord.Coordinate;
import de.fhg.fokus.streetlife.mmecp.containers.util.Util;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.testng.annotations.Test;

import javax.annotation.PostConstruct;
import javax.ws.rs.core.Response;
import java.io.IOException;
import java.security.GeneralSecurityException;
import java.util.List;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.*;


/**
 * Created by csc on 07.10.2015.
 */
public class TripHistoryTest {

    private final Logger LOG = LoggerFactory.getLogger(this.getClass());

    TripHistoryAction tripHistoryAction;

    // private final String serviceUrl = "http://private-9766f-streetlifeuserservicev2.apiary-mock.com";

    @PostConstruct
    public void init() throws GeneralSecurityException {
        this.tripHistoryAction = new CipClient().getTarget().proxy(TripHistoryAction.class);
    }

    @Test(enabled = true)
    public void testTripHistoryToJson() throws IOException {

        TripHistory thist = new TripHistory();
//        thist.add(new Trip());
        String json = Util.prettify(thist.toString());
        LOG.info("JSON is : {}", Util.shorten(json,111));

        assertThat(json, startsWith("{"));
        assertThat(json, endsWith("}"));
//        assertThat(json, containsString("\"tripHistory\": [{"));
//        assertThat(json, containsString("\"percentage\":100,"));
    }


    @Test(enabled = true)
    public void testTripHistoryFromJson() throws IOException {

        TripHistory thist = new TripHistory(TEST_JSON);
        String json = Util.prettify(thist.toString());
        LOG.info("parsed and regenerated test Json is: {}", Util.shorten(json,111));

        assertThat(json, startsWith("{"));
        assertThat(json, endsWith("}"));
        assertThat(json, containsString("\"crowdSourcingData\" : {"));
        assertThat(json, containsString("\"dangerousPoints\" : ["));
    }


    public String doTripHistoryWebServiceRequest() throws IOException, GeneralSecurityException {
        // return TEST_JSON;
        init();
        Response response = null;
        try {
            response = tripHistoryAction.getTripHistory("e2e0c9ca08015a79");
        } catch (Exception e) {
            e.printStackTrace();
        }
        LOG.info("status: " + response.getStatus());
        LOG.info("headers: " + response.getHeaders());

        if (response.getStatusInfo() == Response.Status.OK) {
            String json = response.readEntity(String.class);
            LOG.info("body is: " + Util.shorten(json,555));

            return json;
        } else {
            return "";
        }
    }


    @Test(enabled = false)
    public void testTripHistoryWebServiceRequest() {
        try {
            String json = Util.prettify(doTripHistoryWebServiceRequest());

            LOG.info("Json start is: " + Util.shorten(json,111));

            assertThat(json, startsWith("{"));
            assertThat(json, endsWith("}"));
            assertThat(json, containsString("\"appVersion\" : \""));
            assertThat(json, containsString("\"crowdSourcingData\" :"));
            assertThat(json, containsString("\"deviceId\" : \""));
            assertThat(json, containsString("\"userDestination\" : \""));
        } catch (IOException | GeneralSecurityException e) {
            e.printStackTrace();
        }
    }


    @Test(enabled = false)
    public void testTripHistoryWebServiceResponse() {
        try {
            String input = doTripHistoryWebServiceRequest();
            // LOG.info("full Json is: " + input);

            // parse Json, then regenerate it again:
            TripHistory thist = new TripHistory(input);
            String json = Util.prettify(thist.toString());
            LOG.info("parsed and regenerated Json is: " + Util.shorten(json,111));

            assertThat(json, startsWith("{"));
            assertThat(json, endsWith("}"));
            assertThat(json, containsString("\"appVersion\" : \""));
            assertThat(json, containsString("\"crowdSourcingData\" :"));
            assertThat(json, containsString("\"deviceId\" : \""));
            assertThat(json, containsString("\"userDestination\" : \""));

            List<Coordinate> list = thist.getAllDangerousPoints();
            LOG.info("found coordinates for dangerous points: {}", list.toString());

        } catch (IOException | GeneralSecurityException e) {
            e.printStackTrace();
        }
    }


    private final static String TEST_JSON =
            "{    \n"+
            "    \"tripHistory\": ["+
            "{\n"+
            "            \"positionAtRequest\": {\n"+
            "                        \"location\": {\n"+
            "                            \"system\": \"WGS84\",\n"+
            "                            \"longitude\": 13.369544930756092,\n"+
            "                            \"latitude\": 52.52559208824942\n"+
            "                        },\n"+
            "                        \"time\": \"2014-04-14T02:15:15Z\"\n"+
            "                    },\n"+
            "\n"+
            "            \"userOrigin\": \"startLocation\",\n"+
            "            \"userDestination\": \"endLocation\",\n"+
            "            \"timeStamp\": \"2014-04-14T02:15:15Z\",\n"+
            "\n"+
            "            \"request\":{\n"+
            "                \"origin\":{\n"+
            "                    \"location\":{\n"+
            "                        \"system\":\"WGS84\",\"longitude\":13.34890365600586,\"latitude\":52.523637058790406\n"+
            "                        },\n"+
            "                    \"time\":\"2014-08-14T14:15:03+0200\"\n"+
            "                    },\n"+
            "                    \"destination\":{\n"+
            "                        \"location\":{\n"+
            "                            \"system\":\"WGS84\",\"longitude\":13.355770111083984,\"latitude\":52.48487100740524\n"+
            "                            },\n"+
            "                        \"time\":null\n"+
            "                        },\n"+
            "                    \"viaPoints\":[],\n"+
            "                    \"costFunctions\":[{\n"+
            "                        \"percentage\":100,\"costType\":\"Duration\"\n"+
            "                        }],\n"+
            "                    \"userId\":\"4711/10\",\n"+
            "                    \"trafficTypes\":[\n"+
            "                        \"Walk\",\"Bike\",\"Car\",\"Metro\",\"CityTrain\",\"Train\",\"Bus\",\"Tram\",\"RegioTrain\",\"Ferry\",\"Other\"\n"+
            "                        ],\n"+
            "                    \"routingConstraints\":[],\n"+
            "                    \"useBikeSharing\":\"true\",\n"+
            "                    \"useCarSharing\":\"true\",\n"+
            "                    \"ownVehicles\":[]\n"+
            "                    },\n"+
            "            \"tripProposal\":[{\n"+
            "                \"url\":\"TripProposals/IMR/56897\",\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"Kirchstra?e 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:03+0200\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:48:13+0200\"},\"trafficTypes\":[\"Walk\",\"Car\"],\"description\":null,\"costs\":{\"distance\":{\"unit\":\"Meter\",\"value\":5610},\"duration\":{\"unit\":\"Minute\",\"value\":33.166666666666664},\"price\":{\"unit\":\"Euro\",\"value\":0.3},\"emission\":{\"unit\":\"Gram\",\"value\":777.7499999999999},\"ticketPrice\":null}\n"+
            "                },\n"+
            "                {\n"+
            "                \"url\":\"TripProposals/IMR/56898\",\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"Kirchstra?e 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:03+0200\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:49:19+0200\"},\"trafficTypes\":[\"Walk\",\"Car\"],\"description\":null,\"costs\":{\"distance\":{\"unit\":\"Meter\",\"value\":5807},\"duration\":{\"unit\":\"Minute\",\"value\":34.266666666666666},\"price\":{\"unit\":\"Euro\",\"value\":0.3},\"emission\":{\"unit\":\"Gram\",\"value\":793.5},\"ticketPrice\":null}\n"+
            "                },\n"+
            "                {\n"+
            "                \"url\":\"TripProposals/IMR/56899\",\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"Kirchstra?e 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:29+0200\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:49:49+0200\"},\"trafficTypes\":[\"Walk\",\"CityTrain\",\"Car\"],\"description\":null,\"costs\":{\"distance\":{\"unit\":\"Meter\",\"value\":6558.957786805122},\"duration\":{\"unit\":\"Minute\",\"value\":34.333333333333336},\"price\":{\"unit\":\"Euro\",\"value\":1.8},\"emission\":{\"unit\":\"Gram\",\"value\":766.5150290965179},\"ticketPrice\":{\"unit\":\"EuroCent\",\"value\":150,\"operatorId\":\"VBB\",\"ticketId\":\"00201\",\"tariffLevel\":\"B0\",\"departureZone\":\"5555\",\"arrivalZone\":\"5555\"}}},{\"url\":\"TripProposals/IMR/56900\",\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"Kirchstra?e 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:03+0200\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:49:55+0200\"},\"trafficTypes\":[\"Walk\",\"Car\"],\"description\":null,\"costs\":{\"distance\":{\"unit\":\"Meter\",\"value\":5641},\"duration\":{\"unit\":\"Minute\",\"value\":34.86666666666667},\"price\":{\"unit\":\"Euro\",\"value\":0.3},\"emission\":{\"unit\":\"Gram\",\"value\":747.3000000000001},\"ticketPrice\":null}\n"+
            "                },\n"+
            "                {\n"+
            "                \"url\":\"TripProposals/IMR/56901\",\"origin\":{\"location\":{\"latitude\":52.523629,\"longitude\":13.3489,\"system\":\"WGS_84\"},\"address\":\"unknown\",\"time\":\"2014-08-14T14:15:00+0200\"},\"destination\":{\"location\":{\"latitude\":52.484868,\"longitude\":13.355768,\"system\":\"WGS_84\"},\"address\":\"unknown\",\"time\":\"2014-08-14T14:50:00+0200\"},\"trafficTypes\":[\"Walk\",\"CityTrain\",\"Metro\",\"Bus\"],\"description\":null,\"costs\":{\"distance\":{\"unit\":\"Meter\",\"value\":6197.106514557802},\"duration\":{\"unit\":\"Minute\",\"value\":35},\"price\":{\"unit\":\"Euro\",\"value\":2.6},\"emission\":{\"unit\":\"Gram\",\"value\":157.62103734602215},\"ticketPrice\":{\"unit\":\"EuroCent\",\"value\":260,\"operatorId\":\"VBB\",\"ticketId\":\"00101\",\"tariffLevel\":\"B1\",\"departureZone\":\"5555\",\"arrivalZone\":\"5555\"}}\n"+
            "                }\n"+
            "                ],\n"+
            "            \"tripsViewed\": [{\"url\":\"TripProposals/IMR/56899/\",\"segments\":[{\"segmentId\":\"1\",\"description\":null,\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"KirchstraÃŸe 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:29+0200\"},\"destination\":{\"location\":{\"latitude\":52.5197566,\"longitude\":13.3469435,\"system\":\"WGS_84\"},\"address\":\"Bartningallee 16, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:21:00+0200\"},\"trafficType\":\"Walk\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":455.0},\"duration\":{\"unit\":\"Minute\",\"value\":5.516666666666667},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":0.0},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.5236,\"longitude\":13.34918,\"system\":\"WGS_84\"},{\"latitude\":52.52194,\"longitude\":13.34851,\"system\":\"WGS_84\"},{\"latitude\":52.52135,\"longitude\":13.3481,\"system\":\"WGS_84\"},{\"latitude\":52.51976,\"longitude\":13.34694,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Head <b>south</b> on <b>KirchstraÃŸe</b> toward <b>HelgolÃ¤nder Ufer</b>\",\"location\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Continue onto <b>Bartningallee/Moabiter BrÃ¼cke</b><div style=\\\"font-size:0.9em\\\">Continue to follow Bartningallee</div><div style=\\\"font-size:0.9em\\\">Destination will be on the right</div>\",\"location\":{\"location\":{\"latitude\":52.5218899,\"longitude\":13.3484805,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":196.0},\"duration\":{\"unit\":\"Second\",\"value\":142.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Bartningallee 16, 10557 Berlin, Germany\",\"location\":{\"location\":{\"latitude\":52.5197566,\"longitude\":13.3469435,\"system\":\"WGS_84\"},\"address\":\"Bartningallee 16, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:21:00+0200\"},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":455.0},\"duration\":{\"unit\":\"Second\",\"value\":331.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]},{\"segmentId\":\"2\",\"description\":\"CityTrain/S5 Direction: S Spandau Bhf (Berlin)\",\"origin\":{\"location\":{\"latitude\":52.519953,\"longitude\":13.347102,\"system\":\"WGS_84\"},\"address\":\"S Bellevue (Berlin)\",\"time\":\"2014-08-14T14:21:00+0200\",\"platform\":\"4\",\"stationId\":\"50067\",\"direction\":\"S Spandau Bhf (Berlin)\"},\"destination\":{\"location\":{\"latitude\":52.513966,\"longitude\":13.336234,\"system\":\"WGS_84\"},\"address\":\"S Tiergarten (Berlin)\",\"time\":\"2014-08-14T14:22:00+0200\",\"platform\":\"4\",\"stationId\":\"50066\",\"direction\":null},\"trafficType\":\"CityTrain\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":991.9577868051216},\"duration\":{\"unit\":\"Minute\",\"value\":1.0},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":22.815029096517797},\"ticketPrice\":null},\"wayPoints\":[],\"guidingPoints\":[{\"description\":\"S Bellevue (Berlin)\",\"location\":{\"location\":{\"latitude\":52.519953,\"longitude\":13.347102,\"system\":\"WGS_84\"},\"address\":\"S Bellevue (Berlin)\",\"time\":\"2014-08-14T14:21:00+0200\"},\"cost\":{\"distance\":null,\"duration\":null,\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":\"50067\",\"comment\":[]},{\"description\":\"S Tiergarten (Berlin)\",\"location\":{\"location\":{\"latitude\":52.513966,\"longitude\":13.336234,\"system\":\"WGS_84\"},\"address\":\"S Tiergarten (Berlin)\",\"time\":\"2014-08-14T14:23:00+0200\"},\"cost\":{\"distance\":null,\"duration\":null,\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":\"50066\",\"comment\":[]}]},{\"segmentId\":\"3\",\"description\":null,\"origin\":{\"location\":{\"latitude\":52.5145594,\"longitude\":13.33644,\"system\":\"WGS_84\"},\"address\":\"Joseph-Haydn-StraÃŸe 1, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:22:00+0200\"},\"destination\":{\"location\":{\"latitude\":52.5150185,\"longitude\":13.3380991,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:23:50+0200\"},\"trafficType\":\"Walk\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":154.0},\"duration\":{\"unit\":\"Minute\",\"value\":1.8333333333333333},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":0.0},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.51456,\"longitude\":13.33644,\"system\":\"WGS_84\"},{\"latitude\":52.51463,\"longitude\":13.33691,\"system\":\"WGS_84\"},{\"latitude\":52.51463,\"longitude\":13.33699,\"system\":\"WGS_84\"},{\"latitude\":52.51455,\"longitude\":13.33788,\"system\":\"WGS_84\"},{\"latitude\":52.51466,\"longitude\":13.3379,\"system\":\"WGS_84\"},{\"latitude\":52.5149,\"longitude\":13.338,\"system\":\"WGS_84\"},{\"latitude\":52.51502,\"longitude\":13.3381,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Head <b>east</b> on <b>Joseph-Haydn-StraÃŸe</b> toward <b>KlopstockstraÃŸe</b>\",\"location\":{\"location\":{\"latitude\":52.5145594,\"longitude\":13.33644,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn <b>left</b> onto <b>KlopstockstraÃŸe</b><div style=\\\"font-size:0.9em\\\">Destination will be on the left</div>\",\"location\":{\"location\":{\"latitude\":52.5145505,\"longitude\":13.3378837,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":99.0},\"duration\":{\"unit\":\"Second\",\"value\":74.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"location\":{\"location\":{\"latitude\":52.5150185,\"longitude\":13.3380991,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:23:50+0200\"},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":154.0},\"duration\":{\"unit\":\"Second\",\"value\":110.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]},{\"segmentId\":\"4\",\"description\":\"@52.51503,13.33806:@52.484871007405225,13.355770111083984\",\"origin\":{\"location\":{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin\",\"time\":\"2014-08-14T14:23:49+0200\",\"operatorId\":\"Car2Go_Berlin\",\"unitId\":\"56902\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:43:49+0200\"},\"trafficType\":\"Car\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4958.0},\"duration\":{\"unit\":\"Minute\",\"value\":20.833333333333336},\"price\":{\"unit\":\"Euro\",\"value\":0.3},\"emission\":{\"unit\":\"Gram\",\"value\":743.7},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},{\"latitude\":52.51483154296875,\"longitude\":13.337989807128906,\"system\":\"WGS_84\"},{\"latitude\":52.51454162597656,\"longitude\":13.33788013458252,\"system\":\"WGS_84\"},{\"latitude\":52.51448059082031,\"longitude\":13.33788013458252,\"system\":\"WGS_84\"},{\"latitude\":52.51388931274414,\"longitude\":13.337960243225098,\"system\":\"WGS_84\"},{\"latitude\":52.51369094848633,\"longitude\":13.33800983428955,\"system\":\"WGS_84\"},{\"latitude\":52.51361846923828,\"longitude\":13.338020324707031,\"system\":\"WGS_84\"},{\"latitude\":52.51408004760742,\"longitude\":13.344710350036621,\"system\":\"WGS_84\"},{\"latitude\":52.51424026489258,\"longitude\":13.347299575805664,\"system\":\"WGS_84\"},{\"latitude\":52.51433181762695,\"longitude\":13.348520278930664,\"system\":\"WGS_84\"},{\"latitude\":52.51430892944336,\"longitude\":13.348699569702148,\"system\":\"WGS_84\"},{\"latitude\":52.51411056518555,\"longitude\":13.349360466003418,\"system\":\"WGS_84\"},{\"latitude\":52.514060974121094,\"longitude\":13.349430084228516,\"system\":\"WGS_84\"},{\"latitude\":52.51401901245117,\"longitude\":13.349499702453613,\"system\":\"WGS_84\"},{\"latitude\":52.51393127441406,\"longitude\":13.349869728088379,\"system\":\"WGS_84\"},{\"latitude\":52.51369094848633,\"longitude\":13.350170135498047,\"system\":\"WGS_84\"},{\"latitude\":52.513648986816406,\"longitude\":13.350210189819336,\"system\":\"WGS_84\"},{\"latitude\":52.51192092895508,\"longitude\":13.350689888000488,\"system\":\"WGS_84\"},{\"latitude\":52.51036834716797,\"longitude\":13.351079940795898,\"system\":\"WGS_84\"},{\"latitude\":52.50994110107422,\"longitude\":13.35116958618164,\"system\":\"WGS_84\"},{\"latitude\":52.50988006591797,\"longitude\":13.351189613342285,\"system\":\"WGS_84\"},{\"latitude\":52.50910186767578,\"longitude\":13.351369857788086,\"system\":\"WGS_84\"},{\"latitude\":52.50796127319336,\"longitude\":13.351679801940918,\"system\":\"WGS_84\"},{\"latitude\":52.50688171386719,\"longitude\":13.351889610290527,\"system\":\"WGS_84\"},{\"latitude\":52.50630187988281,\"longitude\":13.351940155029297,\"system\":\"WGS_84\"},{\"latitude\":52.506080627441406,\"longitude\":13.351920127868652,\"system\":\"WGS_84\"},{\"latitude\":52.50580978393555,\"longitude\":13.351880073547363,\"system\":\"WGS_84\"},{\"latitude\":52.505741119384766,\"longitude\":13.351860046386719,\"system\":\"WGS_84\"},{\"latitude\":52.50550079345703,\"longitude\":13.35177993774414,\"system\":\"WGS_84\"},{\"latitude\":52.505348205566406,\"longitude\":13.351690292358398,\"system\":\"WGS_84\"},{\"latitude\":52.50469970703125,\"longitude\":13.351229667663574,\"system\":\"WGS_84\"},{\"latitude\":52.50458908081055,\"longitude\":13.351129531860352,\"system\":\"WGS_84\"},{\"latitude\":52.50450134277344,\"longitude\":13.351200103759766,\"system\":\"WGS_84\"},{\"latitude\":52.504398345947266,\"longitude\":13.3512601852417,\"system\":\"WGS_84\"},{\"latitude\":52.50431823730469,\"longitude\":13.351380348205566,\"system\":\"WGS_84\"},{\"latitude\":52.50421142578125,\"longitude\":13.351630210876465,\"system\":\"WGS_84\"},{\"latitude\":52.504051208496094,\"longitude\":13.352129936218262,\"system\":\"WGS_84\"},{\"latitude\":52.504058837890625,\"longitude\":13.352230072021484,\"system\":\"WGS_84\"},{\"latitude\":52.5040283203125,\"longitude\":13.352359771728516,\"system\":\"WGS_84\"},{\"latitude\":52.50395965576172,\"longitude\":13.352609634399414,\"system\":\"WGS_84\"},{\"latitude\":52.50387954711914,\"longitude\":13.352749824523926,\"system\":\"WGS_84\"},{\"latitude\":52.50381851196289,\"longitude\":13.352800369262695,\"system\":\"WGS_84\"},{\"latitude\":52.50313949584961,\"longitude\":13.35299015045166,\"system\":\"WGS_84\"},{\"latitude\":52.502899169921875,\"longitude\":13.35303020477295,\"system\":\"WGS_84\"},{\"latitude\":52.50273132324219,\"longitude\":13.352970123291016,\"system\":\"WGS_84\"},{\"latitude\":52.50236892700195,\"longitude\":13.353059768676758,\"system\":\"WGS_84\"},{\"latitude\":52.50230026245117,\"longitude\":13.353090286254883,\"system\":\"WGS_84\"},{\"latitude\":52.501991271972656,\"longitude\":13.353190422058105,\"system\":\"WGS_84\"},{\"latitude\":52.501888275146484,\"longitude\":13.353289604187012,\"system\":\"WGS_84\"},{\"latitude\":52.501739501953125,\"longitude\":13.353320121765137,\"system\":\"WGS_84\"},{\"latitude\":52.50143051147461,\"longitude\":13.353400230407715,\"system\":\"WGS_84\"},{\"latitude\":52.50096893310547,\"longitude\":13.353560447692871,\"system\":\"WGS_84\"},{\"latitude\":52.500709533691406,\"longitude\":13.353659629821777,\"system\":\"WGS_84\"},{\"latitude\":52.50059127807617,\"longitude\":13.353630065917969,\"system\":\"WGS_84\"},{\"latitude\":52.5001106262207,\"longitude\":13.353799819946289,\"system\":\"WGS_84\"},{\"latitude\":52.49998092651367,\"longitude\":13.353850364685059,\"system\":\"WGS_84\"},{\"latitude\":52.4998893737793,\"longitude\":13.353899955749512,\"system\":\"WGS_84\"},{\"latitude\":52.49972915649414,\"longitude\":13.354040145874023,\"system\":\"WGS_84\"},{\"latitude\":52.49964141845703,\"longitude\":13.354089736938477,\"system\":\"WGS_84\"},{\"latitude\":52.499298095703125,\"longitude\":13.354120254516602,\"system\":\"WGS_84\"},{\"latitude\":52.49924087524414,\"longitude\":13.354169845581055,\"system\":\"WGS_84\"},{\"latitude\":52.49919128417969,\"longitude\":13.354260444641113,\"system\":\"WGS_84\"},{\"latitude\":52.49919891357422,\"longitude\":13.354410171508789,\"system\":\"WGS_84\"},{\"latitude\":52.49916076660156,\"longitude\":13.354829788208008,\"system\":\"WGS_84\"},{\"latitude\":52.499088287353516,\"longitude\":13.355270385742188,\"system\":\"WGS_84\"},{\"latitude\":52.49898147583008,\"longitude\":13.355839729309082,\"system\":\"WGS_84\"},{\"latitude\":52.49821853637695,\"longitude\":13.35951042175293,\"system\":\"WGS_84\"},{\"latitude\":52.49769973754883,\"longitude\":13.361949920654297,\"system\":\"WGS_84\"},{\"latitude\":52.49631881713867,\"longitude\":13.361370086669922,\"system\":\"WGS_84\"},{\"latitude\":52.496219635009766,\"longitude\":13.36128044128418,\"system\":\"WGS_84\"},{\"latitude\":52.495880126953125,\"longitude\":13.361149787902832,\"system\":\"WGS_84\"},{\"latitude\":52.49565124511719,\"longitude\":13.361109733581543,\"system\":\"WGS_84\"},{\"latitude\":52.49546813964844,\"longitude\":13.361169815063477,\"system\":\"WGS_84\"},{\"latitude\":52.494998931884766,\"longitude\":13.361140251159668,\"system\":\"WGS_84\"},{\"latitude\":52.49422836303711,\"longitude\":13.361040115356445,\"system\":\"WGS_84\"},{\"latitude\":52.493839263916016,\"longitude\":13.361029624938965,\"system\":\"WGS_84\"},{\"latitude\":52.49237823486328,\"longitude\":13.360899925231934,\"system\":\"WGS_84\"},{\"latitude\":52.492271423339844,\"longitude\":13.360879898071289,\"system\":\"WGS_84\"},{\"latitude\":52.491661071777344,\"longitude\":13.36083984375,\"system\":\"WGS_84\"},{\"latitude\":52.49134063720703,\"longitude\":13.360810279846191,\"system\":\"WGS_84\"},{\"latitude\":52.4911003112793,\"longitude\":13.360770225524902,\"system\":\"WGS_84\"},{\"latitude\":52.49100875854492,\"longitude\":13.360710144042969,\"system\":\"WGS_84\"},{\"latitude\":52.49089050292969,\"longitude\":13.360529899597168,\"system\":\"WGS_84\"},{\"latitude\":52.49074935913086,\"longitude\":13.360400199890137,\"system\":\"WGS_84\"},{\"latitude\":52.49052047729492,\"longitude\":13.360219955444336,\"system\":\"WGS_84\"},{\"latitude\":52.490379333496094,\"longitude\":13.360099792480469,\"system\":\"WGS_84\"},{\"latitude\":52.48896026611328,\"longitude\":13.358790397644043,\"system\":\"WGS_84\"},{\"latitude\":52.48855972290039,\"longitude\":13.358440399169922,\"system\":\"WGS_84\"},{\"latitude\":52.487449645996094,\"longitude\":13.357410430908203,\"system\":\"WGS_84\"},{\"latitude\":52.486961364746094,\"longitude\":13.356969833374023,\"system\":\"WGS_84\"},{\"latitude\":52.48670959472656,\"longitude\":13.357600212097168,\"system\":\"WGS_84\"},{\"latitude\":52.4864616394043,\"longitude\":13.3583402633667,\"system\":\"WGS_84\"},{\"latitude\":52.485801696777344,\"longitude\":13.358759880065918,\"system\":\"WGS_84\"},{\"latitude\":52.485679626464844,\"longitude\":13.358400344848633,\"system\":\"WGS_84\"},{\"latitude\":52.48550033569336,\"longitude\":13.358030319213867,\"system\":\"WGS_84\"},{\"latitude\":52.485408782958984,\"longitude\":13.357850074768066,\"system\":\"WGS_84\"},{\"latitude\":52.48508071899414,\"longitude\":13.357230186462402,\"system\":\"WGS_84\"},{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Leave from  KlopstockstraÃŸe, Hansaviertel (Berlin)\",\"location\":{\"location\":{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto B2/B5 StraÃŸe Des 17. Juni\",\"location\":{\"location\":{\"latitude\":52.51374816894531,\"longitude\":13.337989807128906,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":144.0},\"duration\":{\"unit\":\"Second\",\"value\":25.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"At the roundabout, take the first exit onto  HofjÃ¤gerallee SchÃ¶neberg\",\"location\":{\"location\":{\"latitude\":52.51411056518555,\"longitude\":13.349360466003418,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":936.0},\"duration\":{\"unit\":\"Second\",\"value\":124.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Continue onto  KlingelhÃ¶ferstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.50967025756836,\"longitude\":13.351240158081055,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":1464.0},\"duration\":{\"unit\":\"Second\",\"value\":200.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  LÃ¼tzowplatz\",\"location\":{\"location\":{\"latitude\":52.50458908081055,\"longitude\":13.351129531860352,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":2044.0},\"duration\":{\"unit\":\"Second\",\"value\":270.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  BÃ¼lowstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.4998893737793,\"longitude\":13.353899955749512,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":2644.0},\"duration\":{\"unit\":\"Second\",\"value\":379.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto B1 Potsdamer StraÃŸe\",\"location\":{\"location\":{\"latitude\":52.49769973754883,\"longitude\":13.361949920654297,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":3276.0},\"duration\":{\"unit\":\"Second\",\"value\":461.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  Kaiser-Wilhelm-Platz\",\"location\":{\"location\":{\"latitude\":52.486961364746094,\"longitude\":13.356969833374023,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4548.0},\"duration\":{\"unit\":\"Second\",\"value\":654.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto  HerbertstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.4864616394043,\"longitude\":13.3583402633667,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4656.0},\"duration\":{\"unit\":\"Second\",\"value\":693.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto  FeurigstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.485801696777344,\"longitude\":13.358759880065918,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4736.0},\"duration\":{\"unit\":\"Second\",\"value\":729.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Arrive at  FeurigstraÃŸe, SchÃ¶neberg (Berlin)\",\"location\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4958.0},\"duration\":{\"unit\":\"Second\",\"value\":770.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]}]}],\n"+
            "            \"tripSelected\": {\"url\":\"TripProposals/IMR/56899/\",\"segments\":[{\"segmentId\":\"1\",\"description\":null,\"origin\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":\"KirchstraÃŸe 5-6, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:15:29+0200\"},\"destination\":{\"location\":{\"latitude\":52.5197566,\"longitude\":13.3469435,\"system\":\"WGS_84\"},\"address\":\"Bartningallee 16, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:21:00+0200\"},\"trafficType\":\"Walk\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":455.0},\"duration\":{\"unit\":\"Minute\",\"value\":5.516666666666667},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":0.0},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.5236,\"longitude\":13.34918,\"system\":\"WGS_84\"},{\"latitude\":52.52194,\"longitude\":13.34851,\"system\":\"WGS_84\"},{\"latitude\":52.52135,\"longitude\":13.3481,\"system\":\"WGS_84\"},{\"latitude\":52.51976,\"longitude\":13.34694,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Head <b>south</b> on <b>KirchstraÃŸe</b> toward <b>HelgolÃ¤nder Ufer</b>\",\"location\":{\"location\":{\"latitude\":52.523595,\"longitude\":13.3491834,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Continue onto <b>Bartningallee/Moabiter BrÃ¼cke</b><div style=\\\"font-size:0.9em\\\">Continue to follow Bartningallee</div><div style=\\\"font-size:0.9em\\\">Destination will be on the right</div>\",\"location\":{\"location\":{\"latitude\":52.5218899,\"longitude\":13.3484805,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":196.0},\"duration\":{\"unit\":\"Second\",\"value\":142.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Bartningallee 16, 10557 Berlin, Germany\",\"location\":{\"location\":{\"latitude\":52.5197566,\"longitude\":13.3469435,\"system\":\"WGS_84\"},\"address\":\"Bartningallee 16, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:21:00+0200\"},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":455.0},\"duration\":{\"unit\":\"Second\",\"value\":331.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]},{\"segmentId\":\"2\",\"description\":\"CityTrain/S5 Direction: S Spandau Bhf (Berlin)\",\"origin\":{\"location\":{\"latitude\":52.519953,\"longitude\":13.347102,\"system\":\"WGS_84\"},\"address\":\"S Bellevue (Berlin)\",\"time\":\"2014-08-14T14:21:00+0200\",\"platform\":\"4\",\"stationId\":\"50067\",\"direction\":\"S Spandau Bhf (Berlin)\"},\"destination\":{\"location\":{\"latitude\":52.513966,\"longitude\":13.336234,\"system\":\"WGS_84\"},\"address\":\"S Tiergarten (Berlin)\",\"time\":\"2014-08-14T14:22:00+0200\",\"platform\":\"4\",\"stationId\":\"50066\",\"direction\":null},\"trafficType\":\"CityTrain\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":991.9577868051216},\"duration\":{\"unit\":\"Minute\",\"value\":1.0},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":22.815029096517797},\"ticketPrice\":null},\"wayPoints\":[],\"guidingPoints\":[{\"description\":\"S Bellevue (Berlin)\",\"location\":{\"location\":{\"latitude\":52.519953,\"longitude\":13.347102,\"system\":\"WGS_84\"},\"address\":\"S Bellevue (Berlin)\",\"time\":\"2014-08-14T14:21:00+0200\"},\"cost\":{\"distance\":null,\"duration\":null,\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":\"50067\",\"comment\":[]},{\"description\":\"S Tiergarten (Berlin)\",\"location\":{\"location\":{\"latitude\":52.513966,\"longitude\":13.336234,\"system\":\"WGS_84\"},\"address\":\"S Tiergarten (Berlin)\",\"time\":\"2014-08-14T14:23:00+0200\"},\"cost\":{\"distance\":null,\"duration\":null,\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":\"50066\",\"comment\":[]}]},{\"segmentId\":\"3\",\"description\":null,\"origin\":{\"location\":{\"latitude\":52.5145594,\"longitude\":13.33644,\"system\":\"WGS_84\"},\"address\":\"Joseph-Haydn-StraÃŸe 1, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:22:00+0200\"},\"destination\":{\"location\":{\"latitude\":52.5150185,\"longitude\":13.3380991,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:23:50+0200\"},\"trafficType\":\"Walk\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":154.0},\"duration\":{\"unit\":\"Minute\",\"value\":1.8333333333333333},\"price\":{\"unit\":\"Euro\",\"value\":0.0},\"emission\":{\"unit\":\"Gram\",\"value\":0.0},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.51456,\"longitude\":13.33644,\"system\":\"WGS_84\"},{\"latitude\":52.51463,\"longitude\":13.33691,\"system\":\"WGS_84\"},{\"latitude\":52.51463,\"longitude\":13.33699,\"system\":\"WGS_84\"},{\"latitude\":52.51455,\"longitude\":13.33788,\"system\":\"WGS_84\"},{\"latitude\":52.51466,\"longitude\":13.3379,\"system\":\"WGS_84\"},{\"latitude\":52.5149,\"longitude\":13.338,\"system\":\"WGS_84\"},{\"latitude\":52.51502,\"longitude\":13.3381,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Head <b>east</b> on <b>Joseph-Haydn-StraÃŸe</b> toward <b>KlopstockstraÃŸe</b>\",\"location\":{\"location\":{\"latitude\":52.5145594,\"longitude\":13.33644,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn <b>left</b> onto <b>KlopstockstraÃŸe</b><div style=\\\"font-size:0.9em\\\">Destination will be on the left</div>\",\"location\":{\"location\":{\"latitude\":52.5145505,\"longitude\":13.3378837,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":99.0},\"duration\":{\"unit\":\"Second\",\"value\":74.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"location\":{\"location\":{\"latitude\":52.5150185,\"longitude\":13.3380991,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin, Germany\",\"time\":\"2014-08-14T14:23:50+0200\"},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":154.0},\"duration\":{\"unit\":\"Second\",\"value\":110.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]},{\"segmentId\":\"4\",\"description\":\"@52.51503,13.33806:@52.484871007405225,13.355770111083984\",\"origin\":{\"location\":{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},\"address\":\"KlopstockstraÃŸe 3, 10557 Berlin\",\"time\":\"2014-08-14T14:23:49+0200\",\"operatorId\":\"Car2Go_Berlin\",\"unitId\":\"56902\"},\"destination\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":\"2014-08-14T14:43:49+0200\"},\"trafficType\":\"Car\",\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4958.0},\"duration\":{\"unit\":\"Minute\",\"value\":20.833333333333336},\"price\":{\"unit\":\"Euro\",\"value\":0.3},\"emission\":{\"unit\":\"Gram\",\"value\":743.7},\"ticketPrice\":null},\"wayPoints\":[{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},{\"latitude\":52.51483154296875,\"longitude\":13.337989807128906,\"system\":\"WGS_84\"},{\"latitude\":52.51454162597656,\"longitude\":13.33788013458252,\"system\":\"WGS_84\"},{\"latitude\":52.51448059082031,\"longitude\":13.33788013458252,\"system\":\"WGS_84\"},{\"latitude\":52.51388931274414,\"longitude\":13.337960243225098,\"system\":\"WGS_84\"},{\"latitude\":52.51369094848633,\"longitude\":13.33800983428955,\"system\":\"WGS_84\"},{\"latitude\":52.51361846923828,\"longitude\":13.338020324707031,\"system\":\"WGS_84\"},{\"latitude\":52.51408004760742,\"longitude\":13.344710350036621,\"system\":\"WGS_84\"},{\"latitude\":52.51424026489258,\"longitude\":13.347299575805664,\"system\":\"WGS_84\"},{\"latitude\":52.51433181762695,\"longitude\":13.348520278930664,\"system\":\"WGS_84\"},{\"latitude\":52.51430892944336,\"longitude\":13.348699569702148,\"system\":\"WGS_84\"},{\"latitude\":52.51411056518555,\"longitude\":13.349360466003418,\"system\":\"WGS_84\"},{\"latitude\":52.514060974121094,\"longitude\":13.349430084228516,\"system\":\"WGS_84\"},{\"latitude\":52.51401901245117,\"longitude\":13.349499702453613,\"system\":\"WGS_84\"},{\"latitude\":52.51393127441406,\"longitude\":13.349869728088379,\"system\":\"WGS_84\"},{\"latitude\":52.51369094848633,\"longitude\":13.350170135498047,\"system\":\"WGS_84\"},{\"latitude\":52.513648986816406,\"longitude\":13.350210189819336,\"system\":\"WGS_84\"},{\"latitude\":52.51192092895508,\"longitude\":13.350689888000488,\"system\":\"WGS_84\"},{\"latitude\":52.51036834716797,\"longitude\":13.351079940795898,\"system\":\"WGS_84\"},{\"latitude\":52.50994110107422,\"longitude\":13.35116958618164,\"system\":\"WGS_84\"},{\"latitude\":52.50988006591797,\"longitude\":13.351189613342285,\"system\":\"WGS_84\"},{\"latitude\":52.50910186767578,\"longitude\":13.351369857788086,\"system\":\"WGS_84\"},{\"latitude\":52.50796127319336,\"longitude\":13.351679801940918,\"system\":\"WGS_84\"},{\"latitude\":52.50688171386719,\"longitude\":13.351889610290527,\"system\":\"WGS_84\"},{\"latitude\":52.50630187988281,\"longitude\":13.351940155029297,\"system\":\"WGS_84\"},{\"latitude\":52.506080627441406,\"longitude\":13.351920127868652,\"system\":\"WGS_84\"},{\"latitude\":52.50580978393555,\"longitude\":13.351880073547363,\"system\":\"WGS_84\"},{\"latitude\":52.505741119384766,\"longitude\":13.351860046386719,\"system\":\"WGS_84\"},{\"latitude\":52.50550079345703,\"longitude\":13.35177993774414,\"system\":\"WGS_84\"},{\"latitude\":52.505348205566406,\"longitude\":13.351690292358398,\"system\":\"WGS_84\"},{\"latitude\":52.50469970703125,\"longitude\":13.351229667663574,\"system\":\"WGS_84\"},{\"latitude\":52.50458908081055,\"longitude\":13.351129531860352,\"system\":\"WGS_84\"},{\"latitude\":52.50450134277344,\"longitude\":13.351200103759766,\"system\":\"WGS_84\"},{\"latitude\":52.504398345947266,\"longitude\":13.3512601852417,\"system\":\"WGS_84\"},{\"latitude\":52.50431823730469,\"longitude\":13.351380348205566,\"system\":\"WGS_84\"},{\"latitude\":52.50421142578125,\"longitude\":13.351630210876465,\"system\":\"WGS_84\"},{\"latitude\":52.504051208496094,\"longitude\":13.352129936218262,\"system\":\"WGS_84\"},{\"latitude\":52.504058837890625,\"longitude\":13.352230072021484,\"system\":\"WGS_84\"},{\"latitude\":52.5040283203125,\"longitude\":13.352359771728516,\"system\":\"WGS_84\"},{\"latitude\":52.50395965576172,\"longitude\":13.352609634399414,\"system\":\"WGS_84\"},{\"latitude\":52.50387954711914,\"longitude\":13.352749824523926,\"system\":\"WGS_84\"},{\"latitude\":52.50381851196289,\"longitude\":13.352800369262695,\"system\":\"WGS_84\"},{\"latitude\":52.50313949584961,\"longitude\":13.35299015045166,\"system\":\"WGS_84\"},{\"latitude\":52.502899169921875,\"longitude\":13.35303020477295,\"system\":\"WGS_84\"},{\"latitude\":52.50273132324219,\"longitude\":13.352970123291016,\"system\":\"WGS_84\"},{\"latitude\":52.50236892700195,\"longitude\":13.353059768676758,\"system\":\"WGS_84\"},{\"latitude\":52.50230026245117,\"longitude\":13.353090286254883,\"system\":\"WGS_84\"},{\"latitude\":52.501991271972656,\"longitude\":13.353190422058105,\"system\":\"WGS_84\"},{\"latitude\":52.501888275146484,\"longitude\":13.353289604187012,\"system\":\"WGS_84\"},{\"latitude\":52.501739501953125,\"longitude\":13.353320121765137,\"system\":\"WGS_84\"},{\"latitude\":52.50143051147461,\"longitude\":13.353400230407715,\"system\":\"WGS_84\"},{\"latitude\":52.50096893310547,\"longitude\":13.353560447692871,\"system\":\"WGS_84\"},{\"latitude\":52.500709533691406,\"longitude\":13.353659629821777,\"system\":\"WGS_84\"},{\"latitude\":52.50059127807617,\"longitude\":13.353630065917969,\"system\":\"WGS_84\"},{\"latitude\":52.5001106262207,\"longitude\":13.353799819946289,\"system\":\"WGS_84\"},{\"latitude\":52.49998092651367,\"longitude\":13.353850364685059,\"system\":\"WGS_84\"},{\"latitude\":52.4998893737793,\"longitude\":13.353899955749512,\"system\":\"WGS_84\"},{\"latitude\":52.49972915649414,\"longitude\":13.354040145874023,\"system\":\"WGS_84\"},{\"latitude\":52.49964141845703,\"longitude\":13.354089736938477,\"system\":\"WGS_84\"},{\"latitude\":52.499298095703125,\"longitude\":13.354120254516602,\"system\":\"WGS_84\"},{\"latitude\":52.49924087524414,\"longitude\":13.354169845581055,\"system\":\"WGS_84\"},{\"latitude\":52.49919128417969,\"longitude\":13.354260444641113,\"system\":\"WGS_84\"},{\"latitude\":52.49919891357422,\"longitude\":13.354410171508789,\"system\":\"WGS_84\"},{\"latitude\":52.49916076660156,\"longitude\":13.354829788208008,\"system\":\"WGS_84\"},{\"latitude\":52.499088287353516,\"longitude\":13.355270385742188,\"system\":\"WGS_84\"},{\"latitude\":52.49898147583008,\"longitude\":13.355839729309082,\"system\":\"WGS_84\"},{\"latitude\":52.49821853637695,\"longitude\":13.35951042175293,\"system\":\"WGS_84\"},{\"latitude\":52.49769973754883,\"longitude\":13.361949920654297,\"system\":\"WGS_84\"},{\"latitude\":52.49631881713867,\"longitude\":13.361370086669922,\"system\":\"WGS_84\"},{\"latitude\":52.496219635009766,\"longitude\":13.36128044128418,\"system\":\"WGS_84\"},{\"latitude\":52.495880126953125,\"longitude\":13.361149787902832,\"system\":\"WGS_84\"},{\"latitude\":52.49565124511719,\"longitude\":13.361109733581543,\"system\":\"WGS_84\"},{\"latitude\":52.49546813964844,\"longitude\":13.361169815063477,\"system\":\"WGS_84\"},{\"latitude\":52.494998931884766,\"longitude\":13.361140251159668,\"system\":\"WGS_84\"},{\"latitude\":52.49422836303711,\"longitude\":13.361040115356445,\"system\":\"WGS_84\"},{\"latitude\":52.493839263916016,\"longitude\":13.361029624938965,\"system\":\"WGS_84\"},{\"latitude\":52.49237823486328,\"longitude\":13.360899925231934,\"system\":\"WGS_84\"},{\"latitude\":52.492271423339844,\"longitude\":13.360879898071289,\"system\":\"WGS_84\"},{\"latitude\":52.491661071777344,\"longitude\":13.36083984375,\"system\":\"WGS_84\"},{\"latitude\":52.49134063720703,\"longitude\":13.360810279846191,\"system\":\"WGS_84\"},{\"latitude\":52.4911003112793,\"longitude\":13.360770225524902,\"system\":\"WGS_84\"},{\"latitude\":52.49100875854492,\"longitude\":13.360710144042969,\"system\":\"WGS_84\"},{\"latitude\":52.49089050292969,\"longitude\":13.360529899597168,\"system\":\"WGS_84\"},{\"latitude\":52.49074935913086,\"longitude\":13.360400199890137,\"system\":\"WGS_84\"},{\"latitude\":52.49052047729492,\"longitude\":13.360219955444336,\"system\":\"WGS_84\"},{\"latitude\":52.490379333496094,\"longitude\":13.360099792480469,\"system\":\"WGS_84\"},{\"latitude\":52.48896026611328,\"longitude\":13.358790397644043,\"system\":\"WGS_84\"},{\"latitude\":52.48855972290039,\"longitude\":13.358440399169922,\"system\":\"WGS_84\"},{\"latitude\":52.487449645996094,\"longitude\":13.357410430908203,\"system\":\"WGS_84\"},{\"latitude\":52.486961364746094,\"longitude\":13.356969833374023,\"system\":\"WGS_84\"},{\"latitude\":52.48670959472656,\"longitude\":13.357600212097168,\"system\":\"WGS_84\"},{\"latitude\":52.4864616394043,\"longitude\":13.3583402633667,\"system\":\"WGS_84\"},{\"latitude\":52.485801696777344,\"longitude\":13.358759880065918,\"system\":\"WGS_84\"},{\"latitude\":52.485679626464844,\"longitude\":13.358400344848633,\"system\":\"WGS_84\"},{\"latitude\":52.48550033569336,\"longitude\":13.358030319213867,\"system\":\"WGS_84\"},{\"latitude\":52.485408782958984,\"longitude\":13.357850074768066,\"system\":\"WGS_84\"},{\"latitude\":52.48508071899414,\"longitude\":13.357230186462402,\"system\":\"WGS_84\"},{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"}],\"guidingPoints\":[{\"description\":\"Leave from  KlopstockstraÃŸe, Hansaviertel (Berlin)\",\"location\":{\"location\":{\"latitude\":52.51502990722656,\"longitude\":13.338109970092773,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":0.0},\"duration\":{\"unit\":\"Second\",\"value\":0.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto B2/B5 StraÃŸe Des 17. Juni\",\"location\":{\"location\":{\"latitude\":52.51374816894531,\"longitude\":13.337989807128906,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":144.0},\"duration\":{\"unit\":\"Second\",\"value\":25.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"At the roundabout, take the first exit onto  HofjÃ¤gerallee SchÃ¶neberg\",\"location\":{\"location\":{\"latitude\":52.51411056518555,\"longitude\":13.349360466003418,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":936.0},\"duration\":{\"unit\":\"Second\",\"value\":124.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Continue onto  KlingelhÃ¶ferstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.50967025756836,\"longitude\":13.351240158081055,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":1464.0},\"duration\":{\"unit\":\"Second\",\"value\":200.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  LÃ¼tzowplatz\",\"location\":{\"location\":{\"latitude\":52.50458908081055,\"longitude\":13.351129531860352,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":2044.0},\"duration\":{\"unit\":\"Second\",\"value\":270.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  BÃ¼lowstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.4998893737793,\"longitude\":13.353899955749512,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":2644.0},\"duration\":{\"unit\":\"Second\",\"value\":379.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto B1 Potsdamer StraÃŸe\",\"location\":{\"location\":{\"latitude\":52.49769973754883,\"longitude\":13.361949920654297,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":3276.0},\"duration\":{\"unit\":\"Second\",\"value\":461.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn left onto  Kaiser-Wilhelm-Platz\",\"location\":{\"location\":{\"latitude\":52.486961364746094,\"longitude\":13.356969833374023,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4548.0},\"duration\":{\"unit\":\"Second\",\"value\":654.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto  HerbertstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.4864616394043,\"longitude\":13.3583402633667,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4656.0},\"duration\":{\"unit\":\"Second\",\"value\":693.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Turn right onto  FeurigstraÃŸe\",\"location\":{\"location\":{\"latitude\":52.485801696777344,\"longitude\":13.358759880065918,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4736.0},\"duration\":{\"unit\":\"Second\",\"value\":729.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]},{\"description\":\"Arrive at  FeurigstraÃŸe, SchÃ¶neberg (Berlin)\",\"location\":{\"location\":{\"latitude\":52.48455810546875,\"longitude\":13.356269836425781,\"system\":\"WGS_84\"},\"address\":null,\"time\":null},\"cost\":{\"distance\":{\"unit\":\"Meter\",\"value\":4958.0},\"duration\":{\"unit\":\"Second\",\"value\":770.0},\"price\":null,\"emission\":null,\"ticketPrice\":null},\"operator\":null,\"pointId\":null,\"comment\":[]}]}]},\n"+
            "            \"trackedData\": \"time;detected activity;confidence;gps accuracy;gps altitude;gps bearing;gps latitude;gps longitude;gps provider;gps speed;cell id;location area code;primary scrambling code;acceleration minimum;acceleration maximum;acceleration average;acceleration standard deviation;1437139591084;STILL;32;39.346;0.0;0.0;52.5242606;13.3445619;fused;0.0;16145415;21936;239;0.17777157;1.8461705;0.8779259;0.6200916;1437139613359;UNKNOWN;50;41.666;0.0;0.0;52.5242786;13.3445985;fused;0.0;16145415;21936;239;0.50460166;1.2462095;0.7180309;0.3072946;1437139623038;UNKNOWN;50;41.666;0.0;0.0;52.5242786;13.3445985;fused;0.0;16145415;21936;239;0.55159473;2.661993;1.5992452;0.910625;1437139632473;UNKNOWN;50;41.666;0.0;0.0;52.5242786;13.3445985;fused;0.0;16145415;21936;239;0.5576719;1.9503973;1.0532753;0.5321082;1437139644072;UNKNOWN;50;41.666;0.0;0.0;52.5242786;13.3445985;fused;0.0;16145415;21936;239;0.5694731;1.255918;1.0261837;0.27512768;1437139653152;UNKNOWN;50;41.666;0.0;0.0;52.5242786;13.3445985;fused;0.0;16145415;21936;239;0.6493755;1.4684229;1.079972;0.32897314;1437139665745;UNKNOWN;50;41.107;0.0;0.0;52.524277;13.3445889;fused;0.0;16145415;21936;239;0.5675157;1.4363225;1.0986016;0.3336134;1437139671444;UNKNOWN;50;41.107;0.0;0.0;52.524277;13.3445889;fused;0.0;16145415;21936;239;0.75903857;1.6975591;1.0797021;0.36784965;1437139683405;UNKNOWN;50;41.107;0.0;0.0;52.524277;13.3445889;fused;0.0;16145415;21936;239;0.14959942;1.6115639;0.87108016;0.5406181;1437139714301;STILL;80;41.107;0.0;0.0;52.524277;13.3445889;fused;0.0;16185866;21936;239;0.01577374;0.037070233;0.027473584;0.009626951;\",\n"+
            "            \"crowdSourcingData\": {\n"+
            "                \"crowdSourcingQuestions\": [{\n"+
            "                \"questionNumber\": 1,\n"+
            "                \"question\": \"Simmt die folgende Aussage: Die vorgeschlagene Route war sicher.\",\n"+
            "                \"answerNumber\": 2,\n"+
            "                \"answer\":\"stimmt weitestgehend\",\n"+
            "                \"logic\": {\n"+
            "                    \"trafficTypes\": [\"ownBike\"],\n"+
            "                    \"preference\": \"safety\"}\n"+
            "                }],\n"+
            "                \"dangerousPoints\": [\n"+
            "                    {\n"+
            "                        \"latitude\": 52.3595,\n"+
            "                        \"longitude\": 13.3491834\n"+
            "                    },\n"+
            "                    {\n"+
            "                        \"latitude\": 52.523595,\n"+
            "                        \"longitude\": 13.3491834\n"+
            "                    }]\n"+
            "            }\n"+
            "        },\n"+
                    "{\n"+
                    "            \"crowdSourcingData\": {\n"+
                    "                \"crowdSourcingQuestions\": [{\n"+
                    "                \"questionNumber\": 1,\n"+
                    "                \"question\": \"Simmt die folgende Aussage: Die vorgeschlagene Route war sicher.\",\n"+
                    "                \"answerNumber\": 2,\n"+
                    "                \"answer\":\"stimmt weitestgehend\",\n"+
                    "                \"logic\": {\n"+
                    "                    \"trafficTypes\": [\"ownBike\"],\n"+
                    "                    \"preference\": \"safety\"}\n"+
                    "                }],\n"+
                    "                \"dangerousPoints\": [\n"+
                    "                    {\n"+
                    "                        \"latitude\": 52.52,\n"+
                    "                        \"longitude\": 13.13\n"+
                    "                    },\n"+
                    "                    {\n"+
                    "                        \"latitude\": 52.54,\n"+
                    "                        \"longitude\": 13.15\n"+
                    "                    }]\n"+
                    "            }\n"+
                    "        }\n"+
            "    ]\n"+
            "}";

}
